<div class="background-img">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-12">
                <h4 class="card-title"><img src="./assets/images/adminsitrationDefinition.png" class="titleImageClass">
                    <label class="headertext"><b>{{FormName}}</b></label>
                </h4>
            </div>
        </div>
    </div>


    <div class="col-md-12">
        <div class="row">
            <div class="col-md-4">
                <div class="row">
                    <div class="mat-elevation-z8">
                        <mat-dialog-actions>
                            <div class="row" style="margin-left: 58px;margin-bottom: 14px; direction: ltr;">
                                <div class=" col-md-8 mt-4 pull-right">
                                    <button color="primary" class="ctgrySaveButton " (click)="addNew()"
                                        mat-raised-button name='AddLocation' matTooltip="{{buttonName}}"
                                         > {{buttonName}}</button>
                                </div>


                            </div>
                        </mat-dialog-actions>
                        <div class="Dir-LTR" id='jqxWidget'>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-8 mat-elevation-z8 pull-right company-Height" [hidden]="EntityInfo">

                <mat-card-content>
                    <mat-tab-group animationDuration="1ms">
                        <mat-tab label= {{langObject.Organization}}>
                                <ng-template mat-tab-label>
                                        <span class="sg-mat-txt" matTooltip="{{langObject.langObject}}" aria-label="">{{langObject.Organization}}</span>
                                      </ng-template>

                                      
                            <h2 class="mt-3 mb-3">Info</h2>
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.EnglishName}}</mat-label>
                                        <input matInput placeholder={{langObject.EnglishName}} value="English Name"
                                            [(ngModel)]="objOrgCompany.CompanyName" required>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label> {{langObject.ArabicName}} </mat-label>
                                        <input matInput placeholder={{langObject.ArabicName}} value="Arabic Name"
                                            [(ngModel)]="objOrgCompany.CompanyArabicName" required>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.ShortName}} </mat-label>
                                        <input matInput placeholder={{langObject.ShortName}} value="Short Name"
                                            [(ngModel)]="objOrgCompany.CompanyShortName" required>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.Address}} </mat-label>
                                        <input matInput placeholder={{langObject.Address}} value="Address"
                                            [(ngModel)]="objOrgCompany.Address" required>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.PhoneNo}} </mat-label>
                                        <input matInput placeholder={{langObject.PhoneNo}} value="Phone No"
                                            [(ngModel)]="objOrgCompany.PhoneNumber" required>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.Fax}} </mat-label>
                                        <input matInput placeholder={{langObject.Fax}} value="Fax" [(ngModel)]="objOrgCompany.Fax"
                                            required>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.URL}} </mat-label>
                                        <input matInput placeholder={{langObject.URL}}  value="Url" [(ngModel)]="objOrgCompany.URL"
                                            required>
                                    </mat-form-field>
                                </div>
                                <div class="col-md-6"></div>
                                <div class="col-md-6">
                                    <button color="primary" mat-raised-button name='saveCompanyLevel'
                                        (click)="UpdateCompany()"matTooltip="{{langObject.Save}}" >{{langObject.Save}} </button>
                                    <span class="divider"></span>
                                    <button color="primary" mat-raised-button name='clearCompanyLevel'
                                        (click)="clearCompany()"matTooltip="{{langObject.Clear}}" >{{langObject.Clear}} </button>
                                    <span class="divider"></span>
                                    <button color="primary" class="ctgrySaveButton " (click)="ShowConfirmDialog()"
                                        mat-raised-button name='DeleteEntity' matTooltip="{{langObject.Delete}}" > {{langObject.Delete}} </button>
                                </div>
                            </div>
                            <!-- <div class="row">
                                    <button color="primary" mat-raised-button name='saveCompanyLevel'
                                        (click)="UpdateCompany()">Save</button>
                                    <span class="divider"></span>
                                    <button color="primary" mat-raised-button name='clearCompanyLevel'
                                        (click)="clearCompany()">Clear</button>
                            </div> -->
                        </mat-tab>
                        <mat-tab label="Organization Levels">
                                <ng-template mat-tab-label>
                                        <span class="sg-mat-txt" matTooltip="Company Levels" aria-label="">Organization Levels</span>
                                      </ng-template>

                            <h2 class="mt-4 mb-4">Info</h2>
                            <div class="row mt-3 mb-3">
                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.LevelName}} </mat-label>
                                        <input matInput placeholder={{langObject.LevelName}} value="Level Name"
                                            [(ngModel)]="objOrgLevel.LevelName" required>
                                    </mat-form-field>
                                </div>

                                <div class="col-md-6">
                                    <mat-form-field  class="d-block w-95">
                                        <mat-label>{{langObject.LevelArabicName}} </mat-label>
                                        <input matInput placeholder={{langObject.LevelArabicName}} value="LevelArabic Name"
                                            [(ngModel)]="objOrgLevel.LevelArabicName" required>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div class="row">
                                <div class="CatagoryContainer col-md-12">
                                    <button color="primary" mat-raised-button name='saveCompanyLevel'
                                        (click)="AddCompanyLevel()" matTooltip="{{langObject.Save}}">
                                        {{langObject.Save}}
                                     </button>
                                    <span class="divider"></span>
                                    <button color="primary" mat-raised-button name='clearCompanyLevel'
                                        (click)="clearCompanyLevel()" matTooltip="{{langObject.Clear}}" >{{langObject.Clear}} </button>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm">
                                    <mat-form-field>
                                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
                                    </mat-form-field>
                                </div>
                                <div class="col-sm">
                                </div>
                            </div>
                            <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8 w-100">

                                <ng-container matColumnDef="index">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header title="#" > # </th>
                                    <td mat-cell *matCellDef="let element ; let i = index"> {{i+1}} </td>
                                </ng-container>

                                <ng-container matColumnDef="LevelName">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    title="{{langObject.LevelName}}"
                                    >
                                            {{langObject.LevelName}} </th>
                                    <td mat-cell *matCellDef="let element"> {{element.LevelName}} </td>
                                </ng-container>

                                <ng-container matColumnDef="LevelArabicName">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header
                                    title="{{langObject.LevelArabicName}}"
                                    > 
                                            {{langObject.LevelArabicName}} </th>
                                    <td mat-cell *matCellDef="let element"> {{element.LevelArabicName}} </td>
                                </ng-container>

                                <ng-container matColumnDef="delete">
                                    <th mat-header-cell *matHeaderCellDef mat-sort-header> "" </th>
                                    <td mat-cell *matCellDef="let element ; let i = index">
                                        <button *ngIf="dataSource.data.length-1 == i " color="primary"
                                            mat-raised-button name='saveCompanyLevel'
                                            (click)="Delete(i, element.LevelId)">
                                            {{langObject.Delete}}
                                            </button>
                                    </td>
                                </ng-container>

                                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
                            </table>
                            <mat-paginator [pageSizeOptions]="[25,50,100,200]" showFirstLastButtons></mat-paginator>
                        </mat-tab>
                    </mat-tab-group>
                </mat-card-content>
            </div>
            <div class="col-md-8 mat-elevation-z8 pull-right" style="font-size: 1.25rem;" [hidden]="!EntityInfo">
                <div class="container row mt-4 mb-4 card-header">
                    <h4 class="card-title">{{langObject.OrganizationStructure}} </h4>
                </div>
                <div class="">
                    <h4 class="mt-4 mb-4">{{langObject.EntityInfo}}</h4>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <mat-form-field  class="w-95">
                            <input matInput placeholder={{langObject.Organization}} value="Company" 
                                [(ngModel)]="objOrgEntity.CompanyName">
                        </mat-form-field>
                    </div>

                    <div class="col-md-6">
                        <mat-form-field  class="w-95">
                            <input matInput placeholder = {{langObject.EntityCode}}
                                [(ngModel)]="objOrgEntity.EntityCode">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <mat-form-field  class="w-95">
                            <input matInput placeholder={{langObject.EnglishName}}
                                [(ngModel)]="objOrgEntity.EntityName">
                        </mat-form-field>
                    </div>

                    <div class="col-md-6">
                        <mat-form-field  class="w-95">
                            <input matInput placeholder={{langObject.ArabicName}}
                            [(ngModel)]="objOrgEntity.EntityArabicName">
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mt-4 mb-5">
                        <button color="primary" class="ctgrySaveButton " (click)="saveEntity()" mat-raised-button
                            name='SaveEntity'> {{langObject.Save}}   </button>
                        <span class="divider"></span>
                        <button color="primary" class="ctgrySaveButton " (click)="ShowConfirmDialog()" mat-raised-button
                            name='DeleteEntity'> {{langObject.Delete}}  </button>
                    </div>
                </div>
            </div>
            <div class="col-md-4" [hidden]="!EntityInfo" ></div>
        </div>
    </div>
</div>